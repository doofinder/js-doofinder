## API Report File for "doofinder"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import * as qs from 'qs';

// @public
export const __API_VERSION__ = 5;

// @public
export const __VERSION__ = "6.0.0";

// @public
export interface BannerInfo {
    blank: boolean;
    html_code: string;
    id: number;
    image: string;
    link: string;
    mobile_image: string;
}

// @public
export interface BasicResult {
    // @deprecated
    add_to_cart?: string;
    description?: string;
    df_rating?: number;
    dfid: string;
    id: string | number;
    image_link?: string;
    link: string;
    price?: number;
    sale_price?: number;
    title: string;
    type: string;
}

// @public
export interface ClickStatsParamsWithDfid extends StatsParams {
    custom_results_id?: string | number;
    dfid: string;
    query?: string;
}

// @public
export interface ClickStatsParamsWithId extends StatsParams {
    custom_results_id?: string | number;
    datatype: string;
    id: string | number;
    query?: string;
}

// @public
export class Client {
    constructor({ zone, secret, headers, serverAddress }?: Partial<ClientOptions>);
    get endpoint(): string;
    get headers(): Record<string, string>;
    options(hashid: string): Promise<Record<string, any>>;
    request(resource: string, params?: Record<string, any>, payload?: Record<string, any>): Promise<Response>;
    search(query: Query | SearchParams): Promise<SearchResponse>;
    get secret(): string;
    stats(eventName: string, params: Record<string, string>): Promise<Response>;
    suggest(query: Query | SearchParams): Promise<SearchResponse>;
    // (undocumented)
    topStats(type: TopStatsType, params: TopStatsParams): Promise<Response>;
    toString(): string;
    get zone(): string;
    }

// @public
export interface ClientOptions {
    headers: Record<string, string>;
    secret: string;
    serverAddress: string;
    zone: string;
}

// @public
export class ClientPool {
    static clear(): void;
    static getClient(zone: string): Client;
    static getStatsClient(zone: string): StatsClient;
    static get options(): Partial<ClientOptions>;
    static set options(value: Partial<ClientOptions>);
    static reset(): void;
    }

// @public
export class ClientResponseError extends Error {
    constructor(response: Response);
    response: Response;
    statusCode: number;
}

// @public
export function clone(src: any): any;

// @public
export const decode: typeof qs.parse;

// @public
export const encode: typeof qs.stringify;

// @public
export type Facet = RangeFacet | TermsFacet;

// @public
export interface FieldSorting {
    [field: string]: SortOrder;
}

// @public
export interface GeoDistanceFilter {
    [field: string]: string;
    distance: string;
}

// @public
export interface GeoSorting {
    _geo_distance: GeoSortOrder;
}

// @public
export interface GeoSortOrder {
    [field: string]: string;
    order: SortOrder;
}

// @public
export interface ImageStatsParams extends StatsParams {
    img_id: string | number;
}

// @public
export function isEmptyObject(obj: unknown): boolean;

// @public
export const isIdentical: (x: any, y: any) => boolean;

// @public
export const isNumber: (value: unknown) => boolean;

// @public
export const isObject: (value: unknown) => boolean;

// @public
export const isPlainObject: (value: unknown) => boolean;

// @public
export const isShallowEqual: (objA: any, objB: any) => boolean;

// @public
export const isString: (value: unknown) => boolean;

// @public
export function isValidDoofinderId(value: unknown): boolean;

// @public
export function isValidHashId(value: unknown): boolean;

// @public
export function merge(...objects: Record<string, any>[]): Record<string, any>;

// @public
export type OnlyIdResult = Pick<BasicResult, 'id'>;

// Warning: (ae-internal-missing-underscore) The name "processSearchResponse" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function processSearchResponse(response: RawSearchResponse): SearchResponse;

// @public
export class Query {
    constructor(params?: QueryParams);
    copy(): Query;
    get defaults(): QueryParams;
    set defaults(value: QueryParams);
    dump(validate?: boolean): SearchParams;
    get excludes(): QueryFilter;
    get filters(): QueryFilter;
    getParam(name: keyof QueryParams): unknown;
    get hashid(): string;
    set hashid(value: string);
    get items(): string[];
    set items(value: string[]);
    load(params?: QueryParams): void;
    get noStats(): boolean;
    set noStats(value: boolean);
    get page(): number;
    set page(value: number);
    get queryCounter(): number;
    set queryCounter(value: number);
    get queryName(): string;
    set queryName(value: string);
    reset(): void;
    get rpp(): number;
    set rpp(value: number);
    setParam(name: keyof QueryParams, value?: unknown): void;
    get sort(): QuerySort;
    get text(): string;
    set text(value: string);
    get transformer(): string;
    set transformer(value: string);
    get types(): QueryTypes;
    }

// @public
export class QueryFilter {
    add(name: string, value: unknown): void;
    clear(): void;
    contains(name: string, value: unknown): boolean;
    dump(): Record<string, any>;
    equals(name: string, value: unknown): boolean;
    get(name: string): unknown;
    has(name: string): boolean;
    remove(name: string, value?: unknown): void;
    set(name: string, value: unknown): void;
    setMany(data: Record<string, any>, replace?: boolean): void;
}

// @public
export type QueryParams = Partial<QueryParamsBase>;

// @public
export interface QueryParamsBase {
    [key: string]: unknown;
    exclude?: Record<string, any>;
    filter?: Record<string, any>;
    hashid: string;
    items?: string[];
    nostats?: boolean;
    page?: number;
    query?: string;
    query_counter?: number;
    query_name?: string;
    rpp?: number;
    sort?: SortingInput[];
    transformer?: string;
    type?: string | string[];
}

// @public
export class QuerySort {
    add(value: string, order?: SortOrder): number;
    add(value: FieldSorting | GeoSorting): number;
    clear(): void;
    get(): Sorting[];
    set(value: string, order?: SortOrder): number;
    set(value: Sorting): number;
    set(value: SortingInput[]): number;
    }

// @public
export class QueryTypes {
    add(value: string): void;
    clear(): void;
    dump(): string[];
    has(value: string): boolean;
    remove(value: string): void;
    set(value: string | string[]): void;
    }

// @public
export class QueryValueError extends Error {
}

// @public
export interface RangeFacet {
    range: RangeStats;
    type: 'range';
}

// @public
export interface RangeFilter {
    gt?: number;
    gte?: number;
    lt?: number;
    lte?: number;
}

// @public
export interface RangeStats {
    avg: number;
    count: number;
    max: number;
    min: number;
    sum: number;
}

// @public
export type RawFacet = RawRangeFacet | RawTermsFacet;

// @public
export interface RawRangeFacet {
    doc_count: number;
    range: {
        buckets: {
            doc_count: number;
            from: number;
            key: string;
            stats: RangeStats;
        }[];
    };
}

// @public
export interface RawSearchResponse extends Omit<SearchResponse, 'facets' | '_rawFacets'> {
    // (undocumented)
    facets: Record<string, RawFacet>;
}

// @public
export interface RawTermsFacet {
    doc_count: number;
    selected: RawTermsInfo;
    terms: RawTermsInfo;
    total: {
        value: number;
    };
}

// @public
export interface RawTermsInfo {
    buckets: RawTermStats[];
    doc_count_error_upper_bound: number;
    sum_other_doc_count: number;
}

// @public
export interface RawTermStats {
    doc_count: number;
    key: string;
}

// @public
export interface RedirectionStatsParams extends StatsParams {
    link: string;
    query?: string;
    redirection_id: string | number;
}

// @public
export interface SearchParams extends QueryParamsBase {
    // (undocumented)
    sort?: Sorting[];
    // (undocumented)
    type?: string[];
}

// @public
export interface SearchResponse extends Record<string, any> {
    autocomplete_suggest?: string;
    banner?: BannerInfo;
    facets?: Record<string, Facet>;
    filter?: {
        range: {
            [key: string]: RangeFilter;
        };
        terms: {
            [key: string]: string[];
        };
        geo_distance: GeoDistanceFilter;
        [key: string]: Record<string, any>;
    };
    max_score: number;
    page: number;
    query: string;
    query_counter: number;
    query_name: string;
    _rawFacets?: Record<string, RawFacet>;
    results: Record<string, any>[];
    results_per_page: number;
    total: number;
    total_found: number;
}

// @public
export type Sorting = FieldSorting | GeoSorting;

// @public
export type SortingInput = string | Sorting;

// @public
export type SortOrder = 'asc' | 'desc';

// @public
export class StatsClient {
    constructor(client: Client);
    // (undocumented)
    get client(): Client;
    registerCheckout(params: StatsParams): Promise<Response>;
    registerClick(params: ClickStatsParamsWithDfid | ClickStatsParamsWithId): Promise<Response>;
    registerEvent(eventName: string, params: Record<string, any>): Promise<Response>;
    registerImageClick(params: ImageStatsParams): Promise<Response>;
    registerImageDisplay(params: ImageStatsParams): Promise<Response>;
    registerRedirection(params: RedirectionStatsParams): Promise<Response>;
    registerSession(params: StatsParams): Promise<Response>;
}

// @public
export interface StatsParams {
    hashid: string;
    session_id: string;
}

// @public
export interface TermsFacet {
    // (undocumented)
    terms: TermStats[];
    // (undocumented)
    type: 'terms';
}

// @public
export interface TermStats {
    selected?: boolean;
    total: number;
    value: string;
}

// @public
export interface TopStatsParams {
    days?: number | string;
    hashid: string;
    withresult?: boolean | string;
}

// @public
export type TopStatsType = 'searches' | 'clicks';


// (No @packageDocumentation comment for this package)

```
