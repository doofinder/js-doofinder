<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Doofinder: Query</title>
  <script type="module">
    import { Query } from '../lib/index.mjs';

    const request = new Query({hashid: 'c0604b71c273c1fb3ef13eb2adfa4452'});
    request.query = 'silla';
    request.page = 1;
    request.rpp = 100;
    request.transformer = 'basic';
    request.queryName = 'match_and';
    request.queryCounter++;
    request.noStats = false;

    request.types.set(['product', 'product']); // product
    request.types.add('recipe');

    request.filters.set('brand', ['adidas', 'nike']);
    request.filters.add('brand', ['adidas', 'munich']);

    request.filters.add('geo', {
      distance: '200km',
      position: '40,-70'
    });
    request.filters.add('geo', {
      distance: '100km',
      position: '40,-70'
    });

    request.filters.add('best_price', {
      gte: 0,
      lte: 100
    });
    request.filters.add('best_price', {
      gte: 100,
      lte: 500
    });

    request.filters.add('something', ['blah', 'bleh', 'xxx']);
    request.filters.remove('something', 'xxx');

    request.filters.add('something2', 'blah');
    request.filters.remove('something2');

    const request2 = new Query(request.dump());
    request2.types.set('product');

    console.log(request.dump());
    console.log(request2.dump());

    window.request = request;
  </script>
</head>
<body>
  <a href="./index.html">‚Üê Back</a>
</body>
</html>
